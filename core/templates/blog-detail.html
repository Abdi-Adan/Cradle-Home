{% extends "base.html" %}

{% load static %}

{% block title %} <title>Abdi Adan | Blog</title> {% endblock %}

{% block content %}


    <!--Main layout-->
    <div class="container">
    <main class="pt-5">
        <div class="container">
            <br>
            <!--Section: Post-->
            <section class="mt-4">
                <!--Grid row-->
                <div class="row">
                    <!--Grid column-->
                    <div class="col-md-8 mb-4">
                        
                        <!--Featured Image-->
                        <div class="card mb-4 wow fadeIn">
                            <img src="https://mdbootstrap.com/img/Photos/Slides/img%20(144).jpg" class="img-fluid card" alt="">
                        </div>
                        <!--/.Featured Image-->

                        <!--Blog title and meta-->
                        <div class="card mb-4 wow fadeIn">
                            <!--Card content-->
                            <div class="card-body text-center">
                                <p class="h3 my-4"><strong>{{post.title}}</strong></p>
                                <!-- make author name capitalized -->
                                <p class=" text-capitalize">
                                    Created {{ post.created }} <br>
                                    Published {{ post.publish }} by <strong>{{ post.author }}</strong><br>
                                    Last Updated {{ post.updated }}
                                </p>
                                <!-- add created date, last updated-->
                            </div>
                        </div>
                        <!-- End of Blog title and meta-->

                        <!--Intro Card-->
                        <div class="card mb-4 wow fadeIn">
                            <!--Card content-->
                            <div class="card-body">
                                <div class="media d-block d-md-flex mt-3">
                                    <div class="media-body text-center text-md-left ml-md-3 ml-0">
                                        <h5 class="mt-0 font-weight-bold">Introduction
                                        </h5>
                                        <p>{{ post.intro|linebreaks }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End of Intro Card-->

                        <!--Body-->
                        <div class="card mb-4 wow fadeIn">
                            <!--Card content-->
                            <div class="card-body">
                                <p>{{ post.body|linebreaks }}</p>
                            </div>
                        </div>
                        <!-- End of Body-->

                        <!--Consclusion-->
                        <div class="card mb-4 wow fadeIn">
                            <!--Card content-->
                            <div class="card-body">

                                <div class="media d-block d-md-flex mt-3">
                                    <div class="media-body text-center text-md-left ml-md-3 ml-0">
                                        <h5 class="mt-0 font-weight-bold">Conclusion
                                        </h5>
                                        <p>{{ post.conclusion|linebreaks }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End of Consclusion-->

                        <!--Comments-->
                        <div class=" card-comments mb-3 wow fadeIn">
                            <div class="card p-3 mb-1 font-weight-bold orange text-light">
                                {% with comments.count as total_comments %}
                                    {{ total_comments }} comment{{ total_comments|pluralize }}
                                {% endwith %}
                            </div>

                            {% if comments %}
                                {% for comment in comments %}
                                    <div class="media d-block d-md-flex my-3 card p-3">
                                        <div class="media-body text-center text-md-left ml-md-3 ml-0">
                                            <h5 class="mt-0 font-weight-bold">
                                                {{ comment.name }}
                                                <a class="pull-right">
                                                    <i class="text-warning fas fa-reply"></i>
                                                </a>
                                            </h5>
                                            <p class="text-secondary">{{ comment.created }}</p>
                                            {{ comment.body|linebreaks }}
                                        </div>
                                    </div>
                                {% endfor %}
                            {% else %}
                                    <div class="card p-3 my-3">
                                        <p>There are no comments yet.</p>
                                    </div>  
                            {% endif %}

                            <div class="mb-3 wow fadeIn">
                                {% if new_comment %}
                                    <div class="card p-3 mb-2 font-weight-bold orange text-light">Your comment has been added.</div>
                                {% else %}
                                    <div class="card p-3 mb-2 font-weight-bold orange text-light">Please leave a reply</div>
                                    <div class=" card card-body">
                                        <form method="POST">
                                            <!-- {% csrf_token %}
                                            {{ comment_form.as_p }} -->
                                            <p class="text-center mt-4">
                                                <button class="btn btn-orange btn-lg text-light" type="submit">Post</button>
                                            </p>
                                            
                                            <!-- Comment -->
                                            <div class="form-group">
                                                <label for="replyFormComment">Your comment</label>
                                                <textarea class="form-control" id="replyFormComment" rows="5"></textarea>
                                            </div>
                                            <!-- Name -->
                                            <label for="replyFormName">Your name</label>
                                            <input type="email" id="replyFormName" class="form-control">
                                            <br>
                                            <!-- Email -->
                                            <label for="replyFormEmail">Your e-mail</label>
                                            <input type="email" id="replyFormEmail" class="form-control">
                                        </form>
                                    </div>
                                {% endif %}
                            </div>
                            
                        </div>
                        <!--End of Comments-->
                    </div>
                    <!--Grid column-->



                    <!--Grid column-->
                    <div class="col-md-4 mb-4">

                        <div class="mb-3">
                            <div id="profile-wrapper" class="card card-body h-100">
                                <img id="profile-pic" src="{% static 'img/banner/banner-image.png' %}" alt="">
                                <hr>
                                <h4>Hi, I'm Abdi Adan</h4>
                                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Autem, nam.</p>
                            </div>
                        </div>


                        <!--Card : Dynamic content wrapper-->
                        <div class="card mb-4 orange text-center wow fadeIn">
                            {% if user_subscribed %}
                                <div class="my-3 text-light font-weight-bold">You have been successfuly subscribed</div>
                            {% else %}
                                <div class="my-3 text-light font-weight-bold">Do you want to get informed about new articles?</div>
                                <!--Card content-->
                                <div class="card-body">
                                    <form method="POST">
                                        {{ newsletter_form.as_p }}
                                        {% csrf_token %}
                                        <input type="email" id="defaultFormLoginEmailEx" placeholder="Enter email" class="text-center ard form-control">
                                        <div class="text-center mt-2">
                                            <button class="btn btn-outline-white font-weight-bold " type="submit">Subscribe</button>
                                        </div>
                                    </form>
                                </div>
                            {% endif %}
                        </div>
                        <!--/.Card : Dynamic content wrapper-->

                        
                        <!--Card : Dynamic content wrapper-->
                        <div class="card mb-4 orange text-center wow fadeIn">
                            <div class="card-body">
                                <form method="POST">
                                    <!-- csrf_token -->
                                    <!-- form.as_p -->
                                    <!-- <div class="text-center my-3">
                                        <button class="btn btn-outline-white font-weight-bold text-uppercaser" type="submit"><i class="fas fa-reply mr-1"></i> Share</button>
                                    </div> -->

                                    <input type="text" id="defaultFormLoginEmailEx" placeholder="Enter your name" class="mb-2 text-center card form-control">
                                    <input type="email" id="defaultFormLoginEmailEx" placeholder="Enter your email" class="mb-2 text-center card form-control">
                                    <input type="email" id="defaultFormLoginEmailEx" placeholder="Enter recipient's email" class="mb-2 text-center card form-control">
                                    <textarea name="comments" id="comments" cols="30" rows="3" placeholder="Optional Comments" class=" text-center card form-control"></textarea>
                                </form>
                            </div>
                            <div class=" text-capitalize text-light font-weight-bold">
                                <p>
                                    <a href="{% url 'core:post_share' post.id %}">
                                        <button class="btn btn-outline-white font-weight-bold text-capitalize" type="submit"><i class="fas fa-reply mr-1"></i> Share this post</button>
                                    </a>
                                </p>
                            </div>
                        </div>
                        <!--/.Card : Dynamic content wrapper-->

                        <!--Card-->
                        <div class="card mb-4 wow fadeIn">

                            <div class="card-header">Related articles</div>

                            <!--Card content-->
                            <div class="card-body">

                                <ul class="list-unstyled">
                                    <li class="media">
                                        <img class="d-flex mr-3" src="https://mdbootstrap.com/img/Photos/Others/placeholder7.jpg" alt="Generic placeholder image">
                                        <div class="media-body">
                                            <a href="">
                                                <h5 class="mt-0 mb-1 font-weight-bold text-dark">List-based media object</h5>
                                            </a>
                                            Cras sit amet nibh libero, in gravida nulla (...)
                                        </div>
                                    </li>
                                    <li class="media my-4">
                                        <img class="d-flex mr-3" src="https://mdbootstrap.com/img/Photos/Others/placeholder6.jpg" alt="An image">
                                        <div class="media-body">
                                            <a href="">
                                                <h5 class="mt-0 mb-1 font-weight-bold text-dark">List-based media object</h5>
                                            </a>
                                            Cras sit amet nibh libero, in gravida nulla (...)
                                        </div>
                                    </li>
                                    <li class="media">
                                        <img class="d-flex mr-3" src="https://mdbootstrap.com/img/Photos/Others/placeholder5.jpg" alt="Generic placeholder image">
                                        <div class="media-body">
                                            <a href="">
                                                <h5 class="mt-0 mb-1 font-weight-bold text-dark">List-based media object</h5>
                                            </a>
                                            Cras sit amet nibh libero, in gravida nulla (...)
                                        </div>
                                    </li>
                                </ul>

                            </div>

                        </div>
                        <!--/.Card-->
                        <!--Card : Dynamic content wrapper-->
                        <div class="card mb-4 orange text-center wow fadeIn">

                            <div class="mt-3 text-light font-weight-bold">Suggest a topic for me to write about</div>

                            <!--Card content-->
                            <div class="card-body">
                                <!-- Default form login -->
                                <form>
                                    <textarea name="comments" id="comments" cols="30" rows="3" class="mb-2 text-center card form-control"></textarea>
                                    <div class="text-center mt-3">
                                        <button class="btn btn-outline-white font-weight-bold text-uppercaser" type="submit">Submit</button>
                                    </div>
                                </form>
                                <!-- Default form login -->

                            </div>

                        </div>
                        <!--/.Card : Dynamic content wrapper-->

                    </div>
                    <!--Grid column-->

                </div>
                <!--Grid row-->

            </section>
            <!--Section: Post-->

        </div>
    </main>
    <!--Main layout-->
    </div>


    
{% endblock %}